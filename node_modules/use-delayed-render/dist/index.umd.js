!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):(e=e||self).useDelayedRender=t(e.react)}(this,function(e){return function(t,n){void 0===t&&(t=!1),void 0===n&&(n={enterDelay:0,exitDelay:0});var u=e.useState(t),r=u[0],o=u[1],c=e.useState(!1),i=c[0],f=c[1],a=e.useRef(),l=e.useRef(null),d=e.useRef(n);return e.useEffect(function(){d.current=n},[n]),e.useEffect(function(){a.current&&clearTimeout(a.current);var e=d.current,n=e.enterDelay,u=e.exitDelay,r=e.onUnmount;if(t)l.current=Date.now(),o(!0),-1===n?"requestIdleCallback"in window?window.requestIdleCallback(function(){f(!0)},{timeout:100}):setTimeout(function(){f(!0)},1):0===n?f(!0):a.current=setTimeout(function(){f(!0)},n);else{f(!1);var c=u;if(l.current){var i=Date.now()-l.current;n&&i<n?c=0:u&&i<u&&(c=i)}0===c?(o(!1),l.current&&(null==r||r())):a.current=setTimeout(function(){o(!1),l.current&&(null==r||r())},c)}},[t]),{mounted:r,rendered:i}}});
