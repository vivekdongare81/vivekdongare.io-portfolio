var e=require("react");module.exports=function(t,n){void 0===t&&(t=!1),void 0===n&&(n={enterDelay:0,exitDelay:0});var r=e.useState(t),u=r[0],c=r[1],o=e.useState(!1),i=o[0],a=o[1],l=e.useRef(),f=e.useRef(null),s=e.useRef(n);return e.useEffect(function(){s.current=n},[n]),e.useEffect(function(){l.current&&clearTimeout(l.current);var e=s.current,n=e.enterDelay,r=e.exitDelay,u=e.onUnmount;if(t)f.current=Date.now(),c(!0),-1===n?"requestIdleCallback"in window?window.requestIdleCallback(function(){a(!0)},{timeout:100}):setTimeout(function(){a(!0)},1):0===n?a(!0):l.current=setTimeout(function(){a(!0)},n);else{a(!1);var o=r;if(f.current){var i=Date.now()-f.current;n&&i<n?o=0:r&&i<r&&(o=i)}0===o?(c(!1),f.current&&(null==u||u())):l.current=setTimeout(function(){c(!1),f.current&&(null==u||u())},o)}},[t]),{mounted:u,rendered:i}};
