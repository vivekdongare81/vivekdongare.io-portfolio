{"version":3,"file":"core.mjs","mappings":"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","names":["C","CL","Tp","E","identity","idFn","pipe","mergeEnvironments","build","compose_","fold","fromRawEffect","fromRawFunction","fromRawFunctionM","fromRawManaged","LayerAllPar","LayerAllSeq","LayerChain","LayerFresh","LayerManaged","LayerMap","LayerSuspend","LayerZipWithPar","LayerZipWithSeq","T","M","environmentFor","has","a","fromEffect","access","r","key","suspend","f","zipWithPar_","self","that","fail","e","succeed","resource","zipWithPar","zipPar_","tuple","zipPar","fromValue","chain_","setKey","fromEffect_","fromManaged","fromManaged_","fromFunction","tag","zip_","zip","right","left","andSeq","andSeq_","l","all","ls","allSeq","main","layer","toRuntime","_","checkPlatform","platform","succeedWith","makeCustomRuntime","fresh","map","fa","map_","chain","flatten","ffa","restrict","ts","accessServicesT","servises","s","i","reduce","x","y","launch","useForever","catchAll","handler","cause","fold_","failureOrCause","c","halt","environment","first","get","second","mapError","orDie","die","orElse","retryLoop","update","currentTime","now","result","_tag","sleep","Math","abs","interval","next","retry","schedule","step"],"sourceRoot":"","sources":["../../_src/Layer/core.ts"],"sourcesContent":[null]}